<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>upClock 实时监控</title>
    <link rel="stylesheet" href="/static/css/styles.css" />
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.6/dist/chart.umd.min.js" crossorigin="anonymous"></script>
  </head>
  <body>
    <header class="top-bar">
      <h1>upClock 久坐监控仪表盘</h1>
      <p class="subtitle">实时状态 + 今日统计 · 每 2 秒刷新</p>
    </header>
    <main class="content">
      <section class="cards cards--overview">
        <article class="card card--state">
          <h2>当前状态</h2>
          <p id="state" class="state-badge">--</p>
          <small id="last-updated">最近更新时间：--</small>
        </article>
        <article class="card">
          <h2>当前专注指数</h2>
          <p id="score" class="metric-value">0%</p>
          <small>同时结合键鼠输入与坐姿评估，越接近 100% 表示越专注</small>
        </article>
        <article class="card">
          <h2>连续在座 / 休息</h2>
          <p id="seated" class="metric-value">0 / 0 min</p>
          <small>当前在座时间 / 最近一次休息时长</small>
        </article>
      </section>

      <section class="cards cards--daily">
        <article class="card">
          <h2>今日久坐状态累计</h2>
          <p id="daily-prolonged" class="metric-value">0.0 min</p>
          <small id="daily-date">统计日期：-- · 仅统计进入久坐状态后的时长</small>
        </article>
        <article class="card">
          <h2>今日休息次数</h2>
          <p id="daily-breaks" class="metric-value">0</p>
          <small>记录有效的起身/站立次数</small>
        </article>
        <article class="card">
          <h2>最长连续在座</h2>
          <p id="daily-longest" class="metric-value">0.0 min</p>
          <small>今日最大单段在座时间（包含久坐前的活跃阶段）</small>
        </article>
      </section>

      <section class="chart-panel">
        <h3>最近 5 分钟趋势</h3>
        <canvas id="trend-chart" height="160"></canvas>
      </section>

      <section class="insights">
        <h3>实时提示</h3>
        <p id="daily-summary">正在获取最新数据…</p>
      </section>
    </main>

    <script src="/static/js/app.js?v=1" defer></script>
  </body>
</html>
